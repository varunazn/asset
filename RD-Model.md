# 数据库建模

1. ER图与IDEF1X图
   1. 独立实体， 从属实体(FK in PK)
   2. 标定联系（组成, FK in PK, 主从联系），非标定联系（组合， 主主联系）， 非确定联系（多对多联系，引入相交实体）， 分类联系（父子继承联系，分类器）
2. 概念模型-->逻辑模型-->物理模型
3. X-->Y ， Y函数依赖X. Y=f(X)
4. X-->Y , 且Y是X真子集，则为平凡(plain)函数依赖。Y=p(X) 
5. 完全(Full)函数依赖： Y=F(X), 部分(Parial)函数依赖： Y=P(X), Y=F(X的真子集)
6. 传递(Chain)函数依赖： Y=C(X) <==> Y=F(K), K=F(X)
7. Y=F(候选键), 外键
8. 函数逻辑蕴含 F|=X-->Y 
9. 函数依赖的闭包 F+
10. U={A1,A2,...An}, F, R(U,F). Armostrong公理
    + 自反律
    + 增广律
    + 传递律
11. 属性(集)闭包。 X-->Y <==> Y \belong X+
12. 覆盖： F+=G+
13. 最小覆盖：
    + X-->Y, 右端(Y)是单一属性
    + 每个函数依赖不可或缺
    + 左端(X)中没有多余属性
14. 1NF：不可分的数据项 <== 最小覆盖第一条
    + 符合：严格按行按列显示
    + 不符合：存在合并单元格。存在复合属性(列)或多值属性(行)
    + 转换
        - 复合属性：例如,Star(name, address(street,city)) ==> Star(name,stree,city)
        - 多值属性: 抽出新关系
15. 2NF： R(U)∈1NF，且U中的每一个非主属性完全函数依赖于候选键 <==> 非主属性=Full(候选键)
    + 转换
        - 消除非主属性的部分依赖. Parial(Keys), 取Keys的真子集，建立新的关系。
        - 例如：R(S#,SN,SD,CN,G)=R(学号，姓名，班级，课程，成绩). Keys={S#,CN}, Attrs={SN,SD,G}. 因为{S#,CN}--P-->{SN,SD}，分解为R1(S#,SN,SD), R2(S#,CN,G).
16. 3NF： R(U,F)∈2NF,且没有传递函数依赖 <==> Y!=C(X)
17. BCNF: (Boyce-Codd) : 不存在不依赖于候选键的函数依赖。 !exist(f(Keys))
    + R(U,F)∈BCNF --> R(U,F)∈3NF , 
    + 转换
        - 分解
18. 4NF
    + 多值依赖：X->->Y == 1个X有多个Y对应。 函数依赖是多值依赖的特例。
    + 消除了非主属性对候选键以外的多值依赖。== 如果有多值依赖，则一定依赖候选键。
    + R∈4NF --> R∈BCNF
    + if F只有函数依赖 |- R∈BCNF <==> R∈4NF
19. W4NF
20. 连接依赖与5NF
21. 冗余，插入异常与删除异常